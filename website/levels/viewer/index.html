<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title>__PAGE_TITLE__</title>
        <link rel="icon" type="image/x-icon" href="/images/favicon.ico">
        <meta name="description" content="__PAGE_DESCRIPTION__">
        <meta property="og:image" content="__PAGE_PREVIEW_IMAGE_URL__">
        <meta property="og:image:type" content="image/png">
        <meta property="og:image:width" content="__PAGE_PREVIEW_IMAGE_WIDTH__">
        <meta property="og:image:height" content="__PAGE_PREVIEW_IMAGE_HEIGHT__">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:image:src" content="__PAGE_PREVIEW_IMAGE_URL__">
        <style>
            /* roboto-regular - latin */
            @font-face {
              font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
              font-family: 'Roboto';
              font-style: normal;
              font-weight: 400;
              src: url('../../fonts/roboto-v30-latin-regular.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
            }
            /* roboto-italic - latin */
            @font-face {
              font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
              font-family: 'Roboto';
              font-style: italic;
              font-weight: 400;
              src: url('../../fonts/roboto-v30-latin-italic.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
            }
            /* roboto-700 - latin */
            @font-face {
              font-display: swap; /* Check https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face/font-display for other options. */
              font-family: 'Roboto';
              font-style: normal;
              font-weight: 700;
              src: url('../../fonts/roboto-v30-latin-700.woff2') format('woff2'); /* Chrome 36+, Opera 23+, Firefox 39+, Safari 12+, iOS 10+ */
            }

            html, body {
                margin: 0;
                height: 100%;
                overflow: hidden;
                touch-action: pan-x pan-y;
                user-select: none;
                -webkit-user-select: none;
                -moz-user-select: none;
                font-family: 'Roboto', sans-serif;
            }

            .info {
                background-color: #ffffff40;
                border-radius: 20px;
                padding: 0px 15px 0px 15px;
                width: 100%;
                text-align: left;
                overflow-y: scroll;
                display: block;
                max-height: 87.5%;
            }
             #time-slider {
                -webkit-appearance: none;
                width: 100%;
                height:2.1%;
                border-radius: 5px;
                background: #d3d3d3;
                outline: none;
                opacity: 0.7;
                position: relative;
                bottom: 0px;
                -webkit-transition: .2s;
                transition: opacity .2s;
                display: none;
            }

            #info-container {
                position: absolute;
                top: 50px;
                left: 10px;
                height: 100%;
                max-width: 30%;
            }

            #time-slider::-webkit-slider-thumb {
                -webkit-appearance: none;
                appearance: none;
                width: 20px;
                height: 20px;
                border-radius: 50%;
                background: #04AA6D;
                cursor: pointer;
            }

            #time-slider::-moz-range-thumb {
                width: 20px;
                height: 20px;
                border-radius: 50%;
                background: #04AA6D;
                cursor: pointer;

            }
 	        #report-take-image{
                display: none;
                width: 120px;
                height:  30px;
                font-weight: bold;
                border-radius: 0.75em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: blue;
                color: #FFFFFF;
                text-align: center;
                border: none;
                float: right;
                margin-right: 1em;
            }
            .moderationinfo {
                position: relative;
                text-align: left;
                z-index: 100;
                display:block;
            }

            .buttons {
                position: absolute;
                top: 10px;
                left: 10px;
                right: 10px;
                text-align: left;
                z-index: 100;
                display:block;
            }

            #buttons form input {
                cursor: pointer;
            }

            .back-button {
                width: 90px;
                height:  30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #FFAE00;
                color: #FFFFFF;
                text-align: center;
                border: none;
            }

            .fog-button {
                width: 120px;
                height:  30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #FFAE00;
                color: #FFFFFF;
                text-align: center;
                border: none;
                float: right;
            }

            .copy-button {
                width: 120px;
                height:  30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #FFAE00;
                color: #FFFFFF;
                text-align: center;
                border: none;
                float: right;
            }

            .location-button {
                width: 120px;
                height:  30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #FFAE00;
                color: #FFFFFF;
                text-align: center;
                border: none;
                float: right;
            }
            
            .download-button {
                width: 120px;
                height:  30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #FFAE00;
                color: #FFFFFF;
                text-align: center;
                border: none;
                float: right;
                display: none;
            }

            .fullscreen-button {
                width: 120px;
                height:  30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #00BC87;
                color: #FFFFFF;
                text-align: center;
                border: none;
                float: right;
            }

            .info-stamp-ok {
                position: absolute;
                top: 20%;
                right: 5%;
                width: 30%;
                transform: rotate(-20deg);
                display:block;
            }

            .overlay {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
                z-index: 200;
                display: none;
            }

            .leaderboard {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 80%;
                max-height: 70%;
                max-width: 600px;
                background-color: white;
                border-radius: 20px;
                padding: 20px;
                text-align: center;
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                z-index: 300;
                display: none;
            }

            .leaderboard-header {
              font-size: 24px;
              font-weight: bold;
              margin-bottom: 10px;
              text-transform: uppercase;
              letter-spacing: 2px;
            }

            .leaderboard-placeholder {
              font-size: 16px;
              font-style: italic;
              margin-top: 10px;
              color: #999999;
            }

            .leaderboard-content {
                max-height: 50vh;
                overflow-y: scroll;
                margin-bottom: 15px;
            }

            .leaderboard-row {
                display: flex;
                justify-content: space-between;
                padding: 5px 0;
            }

            .leaderboard-row:nth-of-type(even) {
              background-color: #f5f5f5; /* light gray */
            }

            .leaderboard-row:nth-of-type(odd) {
              background-color: #ffffff; /* white */
            }

            .leaderboard-position, .leaderboard-name, .leaderboard-time {
              flex: 1;
              text-align: center;
              font-size: 18px;
            }

            .leaderboard-name {
              font-weight: bold;
              color: #000000;
              text-decoration: none;
            }

            .leaderboard-time {
              font-style: italic;
              color: #999999;
            }

            .leaderboard-close {
                position: absolute;
                top: 10px;
                right: 10px;
                width: 20px;
                height: 20px;
                font-size: 20px;
                cursor: pointer;
            }
            .leaderboard-button {
                font-weight: bold;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #f15a5a;
                color: #FFFFFF;
                text-align: center;
                border: none;
                cursor: pointer;
                margin-inline: 5px;
            }
            #leaderboard-button {
                width: 120px;
                height:  30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #FFAE00;
                color: #FFFFFF;
                text-align: center;
                border: none;
                float: right;
            }
            #listButtons {
                display: flex;
                justify-content: space-between;
                margin: 0 auto;
                margin-top: 10px;
            }
            #listButtons > button  {
                cursor: pointer;
                width: 100px;
                height: 30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #FFAE00;
                color: #FFFFFF;
                text-align: center;
                border: none;
            }
            #hideButton, #unverifyButton, #verifySkipSuccessButton, #reportButton {
                height: 30px;
                width: fit-content;
                padding-right: 20px;
                padding-left: 20px;
                font-weight: bold;
                background-color: red;
                color: white;
                border: none;
                border-radius: 15px;
                cursor: pointer;
            }

            #favoriteButton, #unfavoriteButton {
                height: 30px;
                width: fit-content;
                padding-right: 20px;
                padding-left: 20px;
                font-weight: bold;
                background-color: #FFAE00;
                color: white;
                border: none;
                border-radius: 15px;
                cursor: pointer;
                margin-top: 5px;
                margin-bottom: 15px;
                display: none;
            }

            #unfavoriteButton {
                background-color: red;
            }

            #startButton  {
                cursor: pointer;
                width: 100px;
                height: 30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #00BC87;
                color: #FFFFFF;
                text-align: center;
                border: none;
            }

            #finishButton  {
                cursor: pointer;
                width: 100px;
                height: 30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #FA8072;
                color: #FFFFFF;
                text-align: center;
                border: none;
            }

            #hideReason {
                height: 30px;
                font-weight: bold;
                border: none;
                border-radius: 15px;
                cursor: pointer;
            }
            .creatorButton, #approveButton, #verifyButton, #verifySkipButton {
                height: 30px;
                font-weight: bold;
                width: fit-content;
                padding-right: 20px;
                padding-left: 20px;
                background-color: green;
                color: white;
                border: none;
                border-radius: 15px;
                cursor: pointer;
            }
            #tagButton {
                height: 30px;
                font-weight: bold;
                width: fit-content;
                padding-right: 20px;
                padding-left: 20px;
                margin-top: 5px;
                background-color: green;
                color: white;
                border: none;
                border-radius: 15px;
                cursor: pointer;
            }
            #tagMenuInner {
                display: grid;
                gap: 5px;
                grid-template-columns: 1fr 1fr 1fr;
            }
            #tagMenuInner > div {
                display: flex;
                width: 100%;
                height: 100%;
                align-items: center;
                justify-content: center;
            }
            #tagMenuInner input[type="checkbox"] {
                display: none;
            }
            #tagMenuInner input[type="checkbox"] + label {
                border: 1px solid #ccc;
                border-radius: 5px;
                cursor: pointer;
                width: calc(100% - 20px);
                height: calc(100% - 10px);
                padding: 5px 10px;
            }
            #tagMenuInner input[type="checkbox"]:checked + label {
                background-color: green;
                color: white;
            }
            #tagMenuInner button {
                width: 100px;
                height: 30px;
                font-weight: bold;
                border-radius: 2em;
                box-sizing: border-box;
                text-decoration: none;
                background-color: green;
                color: white;
                border: none;
                cursor: pointer;
            }
            .popup
			{
				position: fixed;
				display: none;
				left: 40%;
				width: 20%;
				top: 30%;
				height: 20%;
				z-index:1002;
				color: #000000;
			}

			.popup-inner
			{
				background-color: white;
				border-radius: 10px;
				border: 3px solid grey;
				padding: 10px;
			}

			.popup[open="open"]
			{
				display: block;
			}
            #popup-thumbnail{
                display: flex;
                justify-content: center;
                align-items: center;
                cursor: pointer;
                border-radius: 10px;
                border: 3px solid grey;
                overflow: hidden;
                width:  97.5%;
            }
            #popup-report-image{
                filter: brightness(1); 
                transition: filter 0.3s ease; 
                width: 100%;
            }
            #popup-thumbnail:hover  #popup-report-image {
                filter: brightness(0.5);
            }
            #report-set-image{
                position: absolute;
                background: blue;
                color: white;
                cursor: pointer;
                border: none;
                transform: scale(2); /* Scale button by 2x */
                border-radius: 5px;
            }
            #report-set-image span {
                transform: scale(0.75); 
                display: inline-block;
            }
            .report-set-image {
                opacity: 0;
                transition: opacity 0.3s ease; 
            }
            #popup-thumbnail:hover .report-set-image{
                opacity: 1;
            }
            .previewImage {
                border-radius: 15px;
                width: 100%;
            }
            #applyLeaderboardModifications {
                font-weight: bold;
                box-sizing: border-box;
                text-decoration: none;
                background-color: #f15a5a;
                color: #FFFFFF;
                text-align: center;
                border: none;
                cursor: pointer;
                margin-inline: 5px;
                display: none;
            }
            .leaderboard-row.leaderboard-row-removed {
                background-color: #FA8072;
            }

            .terms-container {
                position: fixed;
                bottom: 10px;
                right: 10px;
                background-color: #ffffff40;
                border-radius: 15px;
            }

            .terms-link {
                display: inline-block;
                margin-left: 10px;
                margin-right: 10px;
                text-decoration: none;
                color: #000;
                font-family: 'Roboto', sans-serif;
                font-weight: normal;
                font-size: 14px;
                transition: color 0.3s;
            }

            .terms-link:hover {
                color: #555; /* Change hover color as needed */
            }

            #tags {
                display: flex;
                flex-direction: row;
                gap: 2px;
                padding-top: 2px;
            }
            
            .tag {
                font-style: italic;
                color: #000000ca;
                background-color: #00000018;
                padding: 0 8px;
                border-radius: 50px;
            }

        </style>
    </head>
    <body>
        <script type="module" src="scripts/shaders.js"></script>
        <script type="module" src="scripts/level_viewer.js"></script>

        <div class="popup" id="popup">
			<div class="popup-inner">
				<div class="cell-title" id="popup-title"></div><br>
				<div class="cell-description" id="popup-description"></div><br>
				<form>
					<select id="popup-reason" style="width: 70%">
					</select>
				</form>
				<br>
				<button id="popup-button-cancel">Cancel</button>
				<button id="popup-button-ok">OK</button>
			</div>
		</div>
        <div class="popup" id="tagMenu">
            <div class="popup-inner" id="tagMenuInner">

            </div>
        </div>
        <div class="popup" id="popup-2">
			<div class="popup-inner">
                <div id="popup-thumbnail">
                    <img src="./textures/preview_image_placeholder.png" id="popup-report-image">
                    <button id="report-set-image"><span>Set Image</span></button>
                </div>
                <br>
				<div class="cell-title" id="popup-title-2"></div><br>
				<div class="cell-description" id="popup-description-2"></div><br>
				<button id="popup-button-cancel-2">Cancel</button>
				<button id="popup-button-ok-2">OK</button>
		</div>
	</div>
        <div id="buttons" class="buttons">
        <form>
            <input type="button" id="back-button" class="back-button" value="User Levels">
            <input type="button" value="Fullscreen" id="fullscreen" class="fullscreen-button">
            <input type="button" id="fog-button" class="fog-button" value="Toggle Fog">
            <input type="button" id="location-button" class="location-button" value="Copy POV URL">
            <input type="button" id="copy-button" class="copy-button" value="Copy Level URL">
            <input type="button" id="leaderboard-button" value="Leaderboard">
            <input type="button" id="download-button" class="download-button" value="Download as GLTF">
            <input type="button" id="report-take-image" class="report-take-image" value="Take Image">
        </form>
        </div>
        
        <div id='info-container'>
        <div id="info" class="info">
        <br>
        <div id="title"></div>
        <div id="tags"></div>
        <div id="creators"></div>
        <div id="description"></div>
        <div id="complexity"></div>
        <div id="checkpoints"></div>
        <br>
        <div id="date"></div>
        <br>
        <div id="total played count">total played count</div>
        <div id="total finished count">total finished count</div>
        <div id="players played count">players played count</div>
        <div id="players finished count">players finished count</div>
        <div id="players rated count">players rated count</div>
        <div id="players liked count">players liked count</div>
        <div id="average time">average time</div>
        <button id="reportButton" style="display: none; margin-block: 5px;">Report</button>
        <button id="favoriteButton">Favorite</button>
        <button id="unfavoriteButton">Unfavorite</button>
        <br>
        <button id="startButton" class="startButton"></button>
        <button id="finishButton" class="finishButton"></button>
        <br>
        <div id="listButtons" style="display: none;">
            <button id="prevListItem">Back</button>
            <button id="nextListItem">Next</button>
            <p><span id="currentListItem"></span> / <span id="totalListItems"></span></p>
        </div>
        <br>
        <div id="moderationcontainer" class="moderationinfo">
            <button id="verifyButton" style="display: none;">Verify</button>
            <button id="unverifyButton" style="display: none;">Unverify</button>
            <button id="verifySkipButton" style="display: none;">Skip</button>
            <button id="verifySkipSuccessButton" style="display: none;">Skipped</button>
            <button id="tagButton" style="display: none;">Edit Tags</button>
            <div id="hidecontainer" style="display: none;">
                <div id="reports" style="display: none;">
                    <b><p id="reportsTitle">Reports:</p></b>
                    <div id="reportlist"></div>
                </div>
                <br>
                <b>Hide Level</b>
                <form>
                    <select id="hideReason" style="width: 70%;">
                        <option value="">- Reason -</option>
                        <option id="level_sexual" value="level_sexual">Sexual Content / Genitals</option>
                        <option id="level_violence" value="level_violence">Detailed Violence</option>
                        <option id="level_hatespeech" value="level_hatespeech">Inappropriate Language</option>
                        <option id="level_loweffort" value="level_loweffort">Very low effort level</option>
                        <option id="level_glitch" value="level_glitch">Requires to use a Glitch to finish</option>
                        <option id="level_other" value="level_other">Other</option>
                        <option id="no_punish" value="no_punish">Don't punish</option>
                    </select>
                </form>
                <br>
                <button id="hideButton">Hide</button>
                <button id="approveButton">Approve</button>
                <br><br>
            </div>
        </div>
        <br>
        <br>
    </div>    
    <br>
    <input type="range" id="time-slider" min="0" max="0" step="0.01" value="0">
</div>

        <div id="overlay" class="overlay"></div>
        <div id="leaderboard" class="leaderboard">
            <div class="leaderboard-header">Leaderboard</div>
            <div id="leaderboard-content" class="leaderboard-content"></div>
            <div class="leaderboard-close" id="leaderboard-close">&times;</div>
            <button id="applyLeaderboardModifications">Confirm</button>
        </div>

        <div class="terms-container">
            <a href="https://slindev.com/legalnotice" class="terms-link">Legal Notice</a>
            <a href="https://slindev.com/terms" class="terms-link">EULA</a>
            <a href="https://slindev.com/privacy" class="terms-link">Privacy Policy</a>
        </div>
    </body>
</html>
